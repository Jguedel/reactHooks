{"ast":null,"code":"import _objectSpread from\"C:/Users/jhguedel/Desktop/New folder/reactHooks/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/jhguedel/Desktop/New folder/reactHooks/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jhguedel/Desktop/New folder/reactHooks/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/jhguedel/Desktop/New folder/reactHooks/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import Joke from\"./Joke\";//HOOKS\nimport GetJokes from\"./Hooks/GetJokes\";//STYLES\nimport\"./Styles/JokeList.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var JokeListHooks=function JokeListHooks(_ref){var _ref$toGet=_ref.toGet,toGet=_ref$toGet===void 0?5:_ref$toGet;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jokes=_useState2[0],setJokes=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];useEffect(function(){var allJokes=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$GetJokes,listJokes,checkLoad;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return GetJokes(toGet);case 2:_yield$GetJokes=_context.sent;listJokes=_yield$GetJokes.listJokes;checkLoad=_yield$GetJokes.checkLoad;console.log(listJokes);// console.log(checkLoad);\nsetJokes(function(jokes){return listJokes;});setIsLoading(function(isLoading){return checkLoad;});case 8:case\"end\":return _context.stop();}},_callee);}));return function allJokes(){return _ref2.apply(this,arguments);};}();if(jokes.length===0)allJokes();},[jokes]);var newJoke=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setIsLoading(function(isLoading){return true;});setJokes(function(jokes){return[];});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function newJoke(){return _ref3.apply(this,arguments);};}();var vote=function vote(id,num){setJokes(function(jokes){return jokes.map(function(j){return j.joke.id===id?_objectSpread(_objectSpread({},j),{},{votes:j.votes+num}):j;});});};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-4x fa-spinner fa-spin\"})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"JokeList\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"JokeList-getmore\",onClick:newJoke,children:\"Get New Jokes\"}),jokes.map(function(j){return/*#__PURE__*/_jsx(Joke,{text:j.joke.joke,id:j.joke.id,votes:j.votes,vote:vote},j.joke.id);})]});}};export default JokeListHooks;","map":{"version":3,"names":["React","useState","useEffect","Joke","GetJokes","jsx","_jsx","jsxs","_jsxs","JokeListHooks","_ref","_ref$toGet","toGet","_useState","_useState2","_slicedToArray","jokes","setJokes","_useState3","_useState4","isLoading","setIsLoading","allJokes","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$GetJokes","listJokes","checkLoad","wrap","_callee$","_context","prev","next","sent","console","log","stop","apply","arguments","length","newJoke","_ref3","_callee2","_callee2$","_context2","vote","id","num","map","j","joke","_objectSpread","votes","className","children","onClick","text"],"sources":["C:/Users/jhguedel/Desktop/New folder/reactHooks/src/JokeListHook.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Joke from \"./Joke\";\r\n//HOOKS\r\nimport GetJokes from \"./Hooks/GetJokes\";\r\n//STYLES\r\nimport \"./Styles/JokeList.css\";\r\n\r\nconst JokeListHooks = ({ toGet = 5 }) => {\r\n  const [jokes, setJokes] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const allJokes = async () => {\r\n      let { listJokes, checkLoad } = await GetJokes(toGet);\r\n      console.log(listJokes);\r\n      // console.log(checkLoad);\r\n      setJokes((jokes) => {\r\n        return listJokes;\r\n      });\r\n      setIsLoading((isLoading) => {\r\n        return checkLoad;\r\n      });\r\n    };\r\n\r\n    if (jokes.length === 0) allJokes();\r\n  }, [jokes]);\r\n\r\n  const newJoke = async () => {\r\n    setIsLoading((isLoading) => {\r\n      return true;\r\n    });\r\n    setJokes((jokes) => {\r\n      return [];\r\n    });\r\n  };\r\n\r\n  const vote = (id, num) => {\r\n    setJokes((jokes) =>\r\n      jokes.map((j) => (j.joke.id === id ? { ...j, votes: j.votes + num } : j))\r\n    );\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"loading\">\r\n        <i className=\"fas fa-4x fa-spinner fa-spin\" />\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className=\"JokeList\">\r\n        <button className=\"JokeList-getmore\" onClick={newJoke}>\r\n          Get New Jokes\r\n        </button>\r\n\r\n        {jokes.map((j) => (\r\n          <Joke\r\n            text={j.joke.joke}\r\n            key={j.joke.id}\r\n            id={j.joke.id}\r\n            votes={j.votes}\r\n            vote={vote}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n};\r\nexport default JokeListHooks;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}